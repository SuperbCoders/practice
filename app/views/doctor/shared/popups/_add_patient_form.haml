#add_patient_form.popup_form.popup_v3{:style => "display:none", "ng-init" => "makeNewPatient()"}
  .form_corner
  -# %form{:name => 'addPatientForm', 'ng-submit' => "createVisit(addPatientForm.$valid)"}
  %form{:name => 'addPatientForm'}
    .patient_status_w.chosen_v2.no_search.skipOpen.right_mod
      %select.chosen-select.newPatientState{"ng-model"=>"new_patient.cart_color"}
        %option.state_pin.status_blue{"data-title" => "status_blue", :selected => "selected", :value => "0"} 12
        %option.state_pin.status_green{"data-title" => "status_green", :value => "1"} 12
        %option.state_pin.status_red{"data-title" => "status_red", :value => "2"} 12
        %option.state_pin.status_orange{"data-title" => "status_orange", :value => "3"} 12
    .form_row
      -# %input#completed_patient_id{:type => "hidden", :value => "", 'ng-model' => "completed_patient.id"}/
      -# %input#completed_patient_id{:type => "text", :value => "", 'ng-model' => "completed_patient.id"}/
      .input_w.placeholder_mod
        -# %input{:type => "text", 'ng-model' => "modelObj", 'ui-autocomplete' => "myOption"}
        %input#new_patient_name.form_input.input_v4.checkEmpty{:type => "text", :value => "", 'ng-model' => "new_patient.full_name", 'ng-required' => "true", 'ui-autocomplete' => "myOption2('full_name')", 'ng-change' => 'removeCompletedPatient()', 'ng-class' => "{'completed': completed_patient}", 'ng-trim' => 'false'}/
        -# %input#new_patient_name.form_input.input_v4.checkEmpty{:type => "text", :value => "", 'ng-model' => "new_patient.full_name", 'ng-required' => "true", 'ui-autocomplete' => "myOption2('full_name')"}/
        -# %input#new_patient_name.form_input.input_v4.checkEmpty{:type => "text", :value => "", 'ng-model' => "new_patient.full_name", 'ng-required' => "true"}/
        %label.form_label.fz_20_{:for => "new_patient_name"} Имя пациента
    .form_row
      .input_w.placeholder_mod
        %input#new_patient_phone.form_input.input_v4.checkEmpty{:type => "tel", :value => "", 'ng-model' => "new_patient.phone", 'ng-required' => "true", 'ui-autocomplete' => "myOption2('phone')", 'ng-change' => 'removeCompletedPatient()', 'ng-class' => "{'completed': completed_patient}", 'ng-trim' => 'false'}/
        -# %input#new_patient_phone.form_input.input_v4.checkEmpty{:type => "tel", 'ng-model' => "new_patient.phone", 'ng-required' => "true"}/
        %label.form_label{:for => "new_patient_phone"} Телефон
    .form_row
      .input_w.placeholder_mod
        %input#new_patient_email.form_input.input_v4.checkEmpty{:type => "email", :value => "", 'ng-model' => "new_patient.email", 'ng-required' => "true", 'ui-autocomplete' => "myOption2('email')", 'ng-change' => 'removeCompletedPatient()', 'ng-class' => "{'completed': completed_patient}", 'ng-trim' => 'false'}/
        -# %input#new_patient_email.form_input.input_v4.checkEmpty{:type => "email", 'ng-model' => "new_patient.email", 'ng-required' => "true"}/
        %label.form_label{:for => "new_patient_email"} Email
    .form_row
      .input_w.placeholder_mod
        %input#new_patient_describe.form_input.input_v4.checkEmpty{'ng-model' => "new_visit.comment"}/
        %label.form_label{:for => "new_patient_describe"} Краткое описание (только для вас)
    -# %button.btn_v2.new_patient_btn.newPatientBtn.yellow_black_btn{'ng-click' => "createVisit(addPatientForm.$valid)"}
    .controls_block
      %button.btn_v2.new_patient_btn.newPatientBtn.yellow_black_btn{'ng-click' => "createVisit(addPatientForm.$valid)"}
        %span.mb 
      -# %button.btn_v2.new_patient_btn.newPatientBtn.yellow_black_btn
      -#   %span.mb
      -#     Записать на 30 декабря, в 12:00
      %p.text_center
        %a.gl_link.changeReceptionTime{:href => "#", "ng-click" => "changeReceptionTimeClick($event, new_visit)"}
          Изменить время приема
